<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Theme Switcher Z-Index Test</title>
        <link rel="stylesheet" href="/css/style.css" />
        <link rel="stylesheet" href="/css/theme-switcher.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <style>
            /* Test elements with high z-index to simulate conflicts */
            .high-z-overlay {
                position: fixed;
                top: 100px;
                left: 100px;
                width: 300px;
                height: 200px;
                background: rgba(255, 0, 0, 0.8);
                z-index: 999999;
                border: 2px solid red;
                border-radius: 8px;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: bold;
            }

            .medium-z-element {
                position: fixed;
                top: 150px;
                right: 100px;
                width: 200px;
                height: 100px;
                background: rgba(0, 255, 0, 0.8);
                z-index: 50000;
                border: 2px solid green;
                border-radius: 8px;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: bold;
            }

            .backdrop-filter-parent {
                position: fixed;
                top: 200px;
                left: 200px;
                width: 400px;
                height: 300px;
                background: rgba(0, 0, 255, 0.3);
                backdrop-filter: blur(10px);
                border: 2px solid blue;
                border-radius: 8px;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: bold;
            }

            .simulated-ask-ai {
                position: absolute;
                top: 50px;
                right: 50px;
                z-index: 9999;
                background: #0056b3;
                color: white;
                border: none;
                padding: 8px 16px;
                border-radius: 6px;
                font-weight: bold;
                cursor: pointer;
            }

            nav {
                backdrop-filter: blur(10px) !important;
            }

            main {
                backdrop-filter: blur(10px) !important;
            }
        </style>
    </head>
    <body>
        <header>
            <nav>
                <div class="nav-container">
                    <h1><a href="/">Z-Index Test</a></h1>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Pages</a></li>
                        <li><a href="#">Search</a></li>
                        <li class="theme-switcher">
                            <button
                                class="theme-button"
                                id="theme-toggle"
                                title="Switch Theme"
                            >
                                <i class="fas fa-palette"></i>
                            </button>
                            <div class="theme-dropdown" id="theme-dropdown">
                                <div class="theme-option" data-theme="default">
                                    Default
                                </div>
                                <div class="theme-option" data-theme="dark">
                                    Dark
                                </div>
                                <div class="theme-option" data-theme="minimal">
                                    Minimal
                                </div>

                                <div
                                    class="theme-option"
                                    data-theme="corporate"
                                >
                                    Corporate
                                </div>
                                <div class="theme-option" data-theme="retro">
                                    Retro
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>

        <main>
            <h1>Theme Switcher Z-Index Test</h1>
            <p>
                This page tests that the theme switcher dropdown appears above
                all other elements:
            </p>

            <ul>
                <li><strong>Red overlay:</strong> z-index 999999</li>
                <li><strong>Green element:</strong> z-index 50000</li>
                <li>
                    <strong>Blue backdrop-filter element:</strong> Creates
                    stacking context
                </li>
                <li><strong>Orange "Ask AI" button:</strong> z-index 9999</li>
                <li>
                    <strong>Navigation:</strong> Has backdrop-filter (creates
                    stacking context)
                </li>
                <li>
                    <strong>Main:</strong> Has backdrop-filter (creates stacking
                    context)
                </li>
            </ul>

            <p>
                <strong>Test:</strong> Click the theme switcher palette icon in
                the navigation. The dropdown should appear above ALL these test
                elements.
            </p>

            <button class="simulated-ask-ai">Simulated Ask AI (z:9999)</button>
        </main>

        <!-- Test overlays -->
        <div class="high-z-overlay">
            High Z-Index Overlay<br />
            z-index: 999999
        </div>

        <div class="medium-z-element">
            Medium Z-Index<br />
            z-index: 50000
        </div>

        <div class="backdrop-filter-parent">
            Backdrop Filter Parent<br />
            (creates stacking context)
        </div>

        <script src="/js/theme-switcher.js"></script>
        <script>
            // Add some dynamic high z-index elements to test
            setTimeout(() => {
                const dynamicElement = document.createElement("div");
                dynamicElement.style.cssText = `
                position: fixed;
                top: 300px;
                right: 300px;
                width: 150px;
                height: 80px;
                background: rgba(255, 165, 0, 0.9);
                z-index: 1000000;
                border: 2px solid orange;
                border-radius: 8px;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: bold;
                font-size: 12px;
                text-align: center;
            `;
                dynamicElement.textContent = "Dynamic Element z:1000000";
                document.body.appendChild(dynamicElement);
            }, 1000);

            // Log z-index values for debugging
            console.log("Theme dropdown max z-index: 2147483647");
            console.log("Ask AI button z-index: 9999");
            console.log("Test overlay z-indexes: 999999, 50000, 1000000");
        </script>
    </body>
</html>
